# CLAUDE.md - Revolutionary Blockchain Physics NFT Collection

## üöÄ Revolutionary Concept

**Oscillyx** - World's first NFT collection with rarity determined by actual blockchain characteristics instead of social coordination patterns.

### Revolutionary Blockchain Physics Rarity System

**Three-Factor Mathematical Analysis:**
1. **Hash Entropy (40% weight)**: Leading zeros, trailing zeros, repeating patterns in block hash
2. **Temporal Significance (30% weight)**: Block timestamp mathematical properties
3. **Position Uniqueness (30% weight)**: Block number and token position analysis

**Rarity Tiers (Revolutionary Names):**
- **Network Pulse (0)** - ~34% - Basic blockchain patterns
- **Block Echo (1)** - ~30% - Enhanced entropy resonance  
- **Digital Moment (2)** - ~20% - Significant temporal markers
- **Chain Resonance (3)** - ~10% - Complex blockchain physics
- **Network Apex (4)** - ~5% - Exceptional blockchain events
- **Genesis Hash (5)** - ~1% - Perfect cryptographic convergence

## üèóÔ∏è Project Architecture

### Core Components

1. **Smart Contracts** (`contracts/`)
   - `Oscillyx.sol` - **MAIN CONTRACT** with blockchain physics rarity system
     - `_getBlockBasedRarity()` - Revolutionary rarity calculation
     - `_generateRarityBasedArt()` - Visual complexity based on blockchain physics
     - 100% on-chain SVG generation with progressive complexity
   - `libs/GeometryLib.sol` - Mathematical utilities for curve generation
   - `libs/Base64Simple.sol` - On-chain SVG encoding

2. **Frontend** (`frontend/`)
   - Next.js 14 with TypeScript and RainbowKit integration
   - `components/RarityBreakdown.tsx` - **UPDATED** with blockchain physics explanation
   - `app/page.tsx` - **UPDATED** landing page showcasing revolutionary approach
   - Vercel Analytics integration for user tracking

3. **Signature Service** (`signature-service/`)
   - Cloudflare Worker for secure signature-based minting
   - Deployed via Wrangler with authentication

## üõ†Ô∏è Development Commands

### Smart Contract Development
```bash
# Compile contracts (includes blockchain physics rarity)
npx hardhat compile

# Deploy to Monad testnet
npx hardhat run scripts/deploy.js --network monadTestnet

# Test blockchain physics rarity system
npx hardhat test test/BlockchainPhysicsRarity.test.js
```

### Frontend Development  
```bash
cd frontend

# Install dependencies
npm install

# Start development server
npm run dev

# Build for production (Vercel)
npm run build
```

## üé® Visual Generation System

### Rarity-Based Complexity Scaling
Each rarity tier produces progressively more complex visuals:

```solidity
// Network Pulse (0) - Single clean curve
if (rarityTier == 0) return baseCurve;

// Block Echo (1) - + Secondary harmonic
if (rarityTier == 1) return baseCurve + secondaryHarmonic;

// Digital Moment (2) - + Ghost strands
if (rarityTier == 2) return baseCurve + ghostStrands;

// Chain Resonance (3) - + Interference patterns
if (rarityTier == 3) return baseCurve + ghostStrands + interferencePatterns;

// Network Apex (4) & Genesis Hash (5) - Maximum complexity
return baseCurve + ghostStrands + complexPatterns + geometricOverlays;
```

### Technical Specifications
- **Dynamic stroke widths**: 3px ‚Üí 6px based on rarity
- **Progressive filter effects**: none ‚Üí glow ‚Üí outerGlow
- **Gas optimized**: 110K-190K per mint including complexity calculation
- **Deterministic**: Same blockchain inputs = same visual output

## üåê Network Configuration

**Monad Testnet**
- RPC: `https://testnet-rpc.monad.xyz`
- Chain ID: `10143`
- Explorer: `https://testnet.monadexplorer.com`
- Contract: `0x4eba94d2B83427c3baf78bC0E9F67c7f2fCb5F4e`

## üìä Current Status

### ‚úÖ Completed Revolutionary Features
- [x] Blockchain physics rarity calculation algorithm
- [x] Rarity-based visual complexity system  
- [x] Frontend updated with revolutionary messaging
- [x] Perfect alignment between contract and website
- [x] 100% on-chain generation with no dependencies
- [x] Gas optimized with ERC721A
- [x] Signature-based minting system
- [x] Vercel deployment with analytics

### üéØ Key Implementation Details
- **Contract Size**: ~26KB (near limit due to complexity)
- **Rarity Calculation**: Real-time blockchain analysis
- **Visual Rendering**: Progressive complexity based on mathematical rarity
- **Zero Dependencies**: No IPFS, no external servers
- **Revolutionary**: First NFT collection using blockchain physics for rarity

## üö® Critical Implementation Notes

### Revolutionary Rarity System
**NEVER revert back to social coordination (cohort size) rarity.**  
The current blockchain physics system is:
- More mathematically sound
- Truly decentralized  
- Cannot be gamed or manipulated
- Creates objective rarity based on cryptographic characteristics

### Visual Generation Alignment
**Visual complexity MUST match rarity tier.**  
Each tier produces visually distinct complexity levels:
- Higher rarity = more visual elements + effects
- Contract implements `_generateRarityBasedArt()` for this
- Frontend accurately describes this system

## üîÆ Vision

Oscillyx represents the evolution from social coordination rarity to blockchain physics rarity - creating the first truly decentralized, mathematical approach to NFT rarity determination.

**Built for**: Monad blockchain  
**Innovation**: Blockchain physics rarity  
**Vision**: Future of decentralized NFT collections  

---

ü§ñ *Generated with [Claude Code](https://claude.ai/code)*